var PageVue=new Vue({el:"#page-vue",data:{userSessionID:null,email:null,isSaving:!1,person_data:{ip:"",city:"",country:"",location:"",index:"",browser_name:"",browser_version:"",os_name:"",os_version:"",screen_size:"",referrer:"",isMobile:!1,isLoad:!1,isShow:!1,isLandingPage:!0,path:"",dateCreate:null,continent_code:"",continent_name:"",info:""}},computed:{},watch:{},mounted:function(){if(this.userSessionID=UserSessionID,this.person_data.userSessionID=this.userSessionID,this.person_data.referrer=document.referrer,ip=="::1")return this.person_data={userSessionID:this.userSessionID,ip:"Local",city:"Moscow",country:"Russia",location:"55.7522, 37.6156",index:"111111",browser_name:"Chrome",browser_version:85,os_name:"Windows",os_version:"10",screen_size:"1536 x 864",referrer:"",isMobile:!1,isLoad:!1,isShow:!1,path:"/Identity/Account/Login",dateCreate:null,continent_code:"EU",continent_name:"Europe",info:"",provider_info:'{"asn":"AS8402","name":"PJSC \\"Vimpelcom\\"","domain":"veon.com","route":"37.144.0.0/14","type":"isp"}',threat:'{"is_tor":false,"is_proxy":false,"is_anonymous":false,"is_known_attacker":false,"is_known_abuser":false,"is_threat":false,"is_bogon":false}, isLandingPage: true'},$.ajax({type:"POST",url:"/Home/UpdateUserSession",context:PageVue,data:JSON.stringify(this.person_data),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){return PageVue.userSessionID=n.userSessionID,n},error:function(n,t,i){console.log(i)}});try{$.get(`https://api.ipdata.co/${ip}?api-key=65b72cf7f83e7582fd54e2c3fad07548678dfa6e363424eb773edbd5`,function(n){PageVue.person_data.userSessionID=PageVue.userSessionID;PageVue.person_data.ip=n.ip;PageVue.person_data.city=n.city;PageVue.person_data.country=n.country_name;PageVue.person_data.continent_code=n.continent_code;PageVue.person_data.continent_name=n.continent_name;PageVue.person_data.location=n.latitude+", "+n.longitude;PageVue.person_data.index=n.postal;PageVue.person_data.provider_info=JSON.stringify(n.asn);PageVue.person_data.current_user_time=n.current_time;PageVue.person_data.threat=JSON.stringify(n.threat);PageVue.get_browser_info();let t=window.jscd;return PageVue.person_data.browser_name=t.browser,PageVue.person_data.browser_version=t.browserMajorVersion,PageVue.person_data.os_name=t.os,PageVue.person_data.os_version=t.osVersion,PageVue.person_data.isMobile=t.mobile,PageVue.person_data.screen_size=t.screen,PageVue.person_data.referrer=document.referrer,PageVue.person_data.path=document.location.pathname,PageVue.person_data}).then(function(){return $.ajax({type:"POST",url:"/Home/UpdateUserSession",context:PageVue,data:JSON.stringify(PageVue.person_data),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){return PageVue.userSessionID=n.userSessionID,n},error:function(n,t,i){this.isSaving=!1;console.log(i)}})})}catch(n){return $.ajax({type:"POST",url:"/Home/UpdateUserSession",context:PageVue,data:JSON.stringify(this.person_data),contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){return PageVue.userSessionID=n.userSessionID,n},error:function(n,t,i){this.isSaving=!1;console.log(i)}})}},methods:{goToAppBudgetto:function(n){return $.ajax({type:"GET",url:"/Home/GoToBudgetto?id="+PageVue.userSessionID+"&linkName="+n,context:this,contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){let t="";return this.email&&(t="&email="+this.email),document.location.href="https://app.budgetto.org/Identity/Account/Login?isLandingPage=true&id="+this.userSessionID+t,n},error:function(n,t,i){let r="";this.email&&(r="&email="+this.email);document.location.href="https://app.budgetto.org/Identity/Account/Login?isLandingPage=true&id="+this.userSessionID+r;console.log(i)}})},get_browser_info:function(){var c="-",y="",b,h,f,l,k,a,u,v,o;screen.width&&(width=screen.width?screen.width:"",height=screen.height?screen.height:"",y+=""+width+" x "+height);var p=navigator.appVersion,n=navigator.userAgent,r=navigator.appName,t=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10),w,i,e;(i=n.indexOf("Opera"))!=-1&&(r="Opera",t=n.substring(i+6),(i=n.indexOf("Version"))!=-1&&(t=n.substring(i+8)));(i=n.indexOf("OPR"))!=-1?(r="Opera",t=n.substring(i+4)):(i=n.indexOf("Edge"))!=-1?(r="Microsoft Edge",t=n.substring(i+5)):(i=n.indexOf("MSIE"))!=-1?(r="Microsoft Internet Explorer",t=n.substring(i+5)):(i=n.indexOf("Chrome"))!=-1?(r="Chrome",t=n.substring(i+7)):(i=n.indexOf("Safari"))!=-1?(r="Safari",t=n.substring(i+7),(i=n.indexOf("Version"))!=-1&&(t=n.substring(i+8))):(i=n.indexOf("Firefox"))!=-1?(r="Firefox",t=n.substring(i+8)):n.indexOf("Trident/")!=-1?(r="Microsoft Internet Explorer",t=n.substring(n.indexOf("rv:")+3)):(w=n.lastIndexOf(" ")+1)<(i=n.lastIndexOf("/"))&&(r=n.substring(w,i),t=n.substring(i+1),r.toLowerCase()==r.toUpperCase()&&(r=navigator.appName));(e=t.indexOf(";"))!=-1&&(t=t.substring(0,e));(e=t.indexOf(" "))!=-1&&(t=t.substring(0,e));(e=t.indexOf(")"))!=-1&&(t=t.substring(0,e));s=parseInt(""+t,10);isNaN(s)&&(t=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10));b=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(p);h=navigator.cookieEnabled?!0:!1;typeof navigator.cookieEnabled!="undefined"||h||(document.cookie="testcookie",h=document.cookie.indexOf("testcookie")!=-1?!0:!1);f=c;l=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(k in l)if(a=l[k],a.r.test(n)){f=a.s;break}u=c;/Windows/.test(f)&&(u=/Windows (.*)/.exec(f)[1],f="Windows");switch(f){case"Mac OS X":u=/Mac OS X (10[\.\_\d]+)/.exec(n)[1];break;case"Android":u=/Android ([\.\_\d]+)/.exec(n)[1];break;case"iOS":u=/OS (\d+)_(\d+)_?(\d+)?/.exec(p);u=u[1]+"."+u[2]+"."+(u[3]|0)}v="no check";typeof swfobject!="undefined"&&(o=swfobject.getFlashPlayerVersion(),v=o.major>0?o.major+"."+o.minor+" r"+o.release:c);window.jscd={screen:y,browser:r,browserVersion:t,browserMajorVersion:s,mobile:b,os:f,osVersion:u,cookies:h,flashVersion:v}},go_to:function(n){$("html, body").animate({scrollTop:$(n).offset().top-(n=="#how-it-works"?50:0)},1e3)},showDocument:function(n){return $.ajax({type:"GET",url:"/Home/ShowDocument?name="+n,contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){return n},error:function(){}})},showMore:function(){return $.ajax({type:"GET",url:"/Home/ShowMore",contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){return n},error:function(){}})}}});