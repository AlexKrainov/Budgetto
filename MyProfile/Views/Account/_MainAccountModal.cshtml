<div id="main-account-modal-vue">

    <div class="modal modal-top fade" id="modal-main-account">
        <div class="modal-dialog">
            <form class="modal-content" method="post">
                <div class="modal-header">
                    <h5 class="modal-title">
                        {{ account.isCash == false ? (account.id ? 'Редактирование организации' : 'Добавление организации' ) : ''  }}
                        {{ account.isCash ? (account.id ? 'Редактирование группы наличных' : 'Добавление группы наличных') : ''  }}
                        @*<span class="font-weight-light">Information</span>
        <br>
        <small class="text-muted">We need payment information to process your order.</small>*@
                    </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">×</button>
                </div>
                <div class="modal-body py-2">

                    @*<div class="switchers-stacked">
                            <label class="switcher">
                                <input type="checkbox" class="switcher-input"
                                       v-model="account.isCash"
                                       v-bind:value="!account.isCash"
                                       checked>
                                <span class="switcher-indicator">
                                    <span class="switcher-yes">
                                        <span class="ion ion-md-checkmark"></span>
                                    </span>
                                    <span class="switcher-no">
                                        <span class="ion ion-md-close"></span>
                                    </span>
                                </span>
                                <span class="switcher-label">Наличные</span>
                            </label>
                        </div>*@

                    <div class="form-row"
                         v-show="account.isCash == false">
                        <div class="form-group col">
                            <label class="form-label">Тип организации</label>
                            <select class="form-control"
                                    v-model="account.bankTypeID"
                                    v-bind:disabled="account.id != undefined">
                                <option v-for="bankType in bankTypes" v-bind:value="bankType.id">
                                    {{ bankType.name }}
                                </option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row"
                         v-show="account.isCash == false">
                        <div class="form-group col">
                            <label class="form-label">Банк</label>
                            <span class="text-danger">*</span>
                            <br />
                            @*v-model="account.bankID"*@
                            <select class="form-control" id="main-account-bank"
                                    v-bind:disabled="account.id != undefined">
                                <option v-for="bank in banks" v-bind:value="bank.id">
                                    {{ bank.name }}
                                </option>
                            </select>
                            <small class="invalid-feedback">Обязательное поле</small>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col">
                            <label class="form-label">Описание</label>
                            <span class="text-danger">*</span>
                            <input id="main-account-name" type="text" class="form-control" placeholder=""
                                   v-model="account.name" required>
                            <small class="invalid-feedback">Обязательное поле</small>
                        </div>
                    </div>

                    <div id="section-description" class="form-row">
                        <div class="form-group col mb-0">
                            <label class="form-label">Дополнительная информация</label>
                            <textarea class="form-control" v-model="account.description" placeholder=""></textarea>
                        </div>
                    </div>

                    @*<div class="form-group mt-4">
                            <label class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" v-model="account.isHide" name="isHide">
                                <span class="custom-control-label">Скрывать в виджете</span>
                            </label>
                        </div>
                        <div class="form-group mt-4">
                            <label class="custom-control custom-checkbox" style=" margin-bottom: 0px;">
                                <input type="checkbox" class="custom-control-input" v-model="account.isCountTheBalance" name="isCountTheBalance">
                                <span class="custom-control-label">Учитывать в поле "Всего на всех счетах"</span>
                            </label>

                        </div>*@

                <div class="mt-3">
                    <label class="form-label" v-show="account.isCash">Все наличные</label>
                    <label class="form-label" v-show="account.isCash == false">Все счета</label>
                    <div class="d-flex justify-content-between align-items-center rounded ui-bordered p-3 mb-2 bg-white"
                         v-for="_account in account.accounts"
                         v-bind:id="'account_'+_account.id">
                        <div>
                            <span> {{ new Intl.NumberFormat(_account.currency.specificCulture, { style: 'currency', currency: _account.currency.codeName }).format(_account.balance) }}</span>
                            {{ _account.name }}
                            <span class="badge badge-outline-secondary ml-2" v-show="[6,8].indexOf(_account.accountType) >= 0">{{ _account.accountTypeName }}</span>
                            <span class="badge badge-outline-primary ml-2" v-show="[1,2,3,4,5,7].indexOf(_account.accountType) >= 0">{{ _account.accountTypeName }}</span>
                        </div>
                        <span class="fas fa-eye text-primary cursor-pointer" title="Отображается. Скрыть ?" data-toggle="tooltip"
                              v-show="_account.isHideCurrentAccount == false"
                              v-on:click="showHide(_account, true)"></span>
                        <span class="fas fa-eye-slash text-secondary cursor-pointer" title="Скрыт. Отображать ?" data-toggle="tooltip"
                              v-show="_account.isHideCurrentAccount"
                              v-on:click="showHide(_account, false)"></span>
                        @*<a href="javascript:void(0)" class="close float-none" data-toggle="tooltip" title="" data-original-title="Remove">×</a>*@
                    </div>
                </div>

                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" type="button"
                            v-bind:disabled="isSaving"
                            v-on:click="save">
                        <span class="spinner-border" role="status" aria-hidden="true" v-show="isSaving"></span>
                        Сохранить
                    </button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
                </div>
            </form>
        </div>
    </div>
</div>