var UserVue=new Vue({el:".page-settings",data:{page:null,isCallActions:!0,actions:["BudgetVue.refresh","GoalListVue.load","LimitListVue.load"],partActions:[],ajaxData:null},watch:{},mounted:function(){this.page=document.querySelector(".page-settings").attributes.getNamedItem("data-page").value},methods:{openSettings:function(){document.querySelector(".page-settings").classList.add("theme-settings-open")},closeSettings:function(){document.querySelector(".page-settings").classList.remove("theme-settings-open")},saveBudgetSettings:function(){let t=document.querySelectorAll("[name=user_settings]"),i={pageName:this.page};for(var n=0;n<t.length;n++)t[n].type=="checkbox"&&(i[t[n].attributes.getNamedItem("data-prop").value]=t[n].checked);return this.ajaxData&&(this.ajaxData.readyState==1||this.ajaxData.readyState==3)&&this.ajaxData.abort(),this.ajaxData=$.ajax({type:"POST",url:"/UserSettings/SaveSettings",data:JSON.stringify(i),contentType:"application/json",dataType:"json",context:this,success:function(){let t=this.isCallActions?this.actions:this.partActions;for(var n=0;n<t.length;n++)UserVue.callMethod(t[n]);setTimeout(function(){$('[data-toggle="tooltip"]').tooltip()},1e3)}}),this.ajaxData},change:function(n,t){this.isCallActions=n;this.partActions=t;this.saveBudgetSettings()},toggleBudgetTotal_Month:function(n,t){let i=document.querySelector("[data-prop="+t+"]").checked;n==1?UserInfo.UserSettings.Dashboard_Month_IsShow_EarningChart=BudgetVue.earningData.isShow=i:n==2?UserInfo.UserSettings.Dashboard_Month_IsShow_SpendingChart=BudgetVue.spendingData.isShow=i:n==3&&(UserInfo.UserSettings.Dashboard_Month_IsShow_InvestingChart=BudgetVue.investingData.isShow=i);typeof BudgetVue.refrehViewTable=="function"&&setTimeout(BudgetVue.refrehViewTable,50)},toggleBudgetTotal_Year:function(n,t){let i=document.querySelector("[data-prop="+t+"]").checked;n==1?UserInfo.UserSettings.Dashboard_Year_IsShow_EarningChart=BudgetVue.earningData.isShow=i:n==2?UserInfo.UserSettings.Dashboard_Year_IsShow_SpendingChart=BudgetVue.spendingData.isShow=i:n==3&&(UserInfo.UserSettings.Dashboard_Year_IsShow_InvestingChart=BudgetVue.investingData.isShow=i);typeof BudgetVue.refrehViewTable=="function"&&setTimeout(BudgetVue.refrehViewTable,50)},toggleSummary:function(n,t){let i=document.querySelector("[data-prop="+n+"]").checked;UserInfo.UserSettings[t]=BudgetVue.summary.isShow=i;typeof BudgetVue.refrehViewTable=="function"&&setTimeout(BudgetVue.refrehViewTable,50)},toggleElements:function(n,t,i){let r=document.querySelector("[data-prop="+t+"]").checked;for(var u=0;u<BudgetVue[n].length;u++)BudgetVue[n][u].isShow=r;UserInfo.UserSettings[i]=r;r==!1&&typeof BudgetVue.refrehViewTable=="function"&&setTimeout(BudgetVue.refrehViewTable,50)},callMethod:function(n){var t=window.getFunctionFromString(n);typeof t=="function"&&t()}}});window.getFunctionFromString=function(n){var t=window,r=n.split(".");for(i=0;i<r.length-1;i++)if(t=t[r[i]],t==undefined)return;return t[r[r.length-1]]};