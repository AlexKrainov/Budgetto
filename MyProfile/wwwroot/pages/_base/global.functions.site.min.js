function sendAjax(n,t=null,i="POST"){return $.ajax({type:i,url:n,data:t?JSON.stringify(t):null,contentType:"application/json",dataType:"json",success:function(n){return n},error:function(n,t,i){console.log(i)}})}function parseQueryString(){var t=window.location.search,n={};return t.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(t,i,r,u){n[i]=u}),n}function numberOfThreeDigits(n){return n?n.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "):""}function GetDateByFormat(n,t){return n&&moment(n).isValid()?moment(n).format(t):""}function GetRandomColor(){return PaletteColorPicker[GetRandomInt(PaletteColorPicker.length)]}function GetRandomInt(n){return Math.floor(Math.random()*Math.floor(n))}function ParseXml(n,t){function f(n){return Object.prototype.toString.apply(n)==="[object Array]"}function u(n,i){var h,e,o,c,s,r;if(n.nodeName=="#text"){h=n.nodeValue;h.trim()&&(i["#text"]=h);return}if(e={},o=i[n.nodeName],o?f(o)?i[n.nodeName].push(e):i[n.nodeName]=[o,e]:i[n.nodeName]=t&&t.indexOf(n.nodeName)!=-1?[e]:e,n.attributes)for(s=n.attributes.length,r=0;r<s;r++)c=n.attributes[r],e[c.nodeName]=c.nodeValue;for(s=n.childNodes.length,r=0;r<s;r++)u(n.childNodes[r],e)}var i=null,r;if(window.DOMParser)i=(new DOMParser).parseFromString(n,"text/xml");else if(window.ActiveXObject){if(i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,!i.loadXML(n))throw i.parseError.reason+" "+i.parseError.srcText;}else throw"cannot parse xml string!";r={};for(let n=0;n<i.childNodes.length;n++)u(i.childNodes[n],r);return r}function TemplateGetLinkForView(n){return n.periodTypeID==PeriodTypeEnum.Month?`/Budget/Month?templateID=${n.id}`:n.periodTypeID==PeriodTypeEnum.Year?`/Budget/Year?templateID=${n.id}`:"/Budget/Index/"+n.id}function GetRusName(n,t){n=Math.abs(n)%100;var i=n%10;return n>10&&n<20?t[2]:i>1&&i<5?t[1]:i==1?t[0]:t[2]}function GetFlatpickrRuConfig_Month(n,t,i){return{altInput:!0,locale:"ru",defaultDate:n,minDate:t,maxDate:i,disableMobile:"true",plugins:[new monthSelectPlugin({shorthand:!0,dateFormat:"Y/m/d",altFormat:"F Y",theme:"light"})]}}function GetFlatpickrRuConfig(n,t,i){return{altInput:!0,locale:"ru",dateFormat:"Y/m/d",defaultDate:n,minDate:t,maxDate:i}}function ShowLoading(n){var t=themeSettings.isDarkStyle()?"#22252B":"#fff";$(n).block({message:'<div class="sk-wave sk-primary mx-auto"><div class="sk-wave-rect"><\/div><div class="sk-wave-rect"><\/div><div class="sk-wave-rect"><\/div><div class="sk-wave-rect"><\/div><div class="sk-wave-rect"><\/div><\/div>',css:{backgroundColor:"transparent",border:"0",zIndex:1081},overlayCSS:{backgroundColor:t,opacity:.8,zIndex:1080}})}function HideLoading(n){$(n).unblock()}function CurrencyCalculateExpression(n,t){let i=`(${n}) * ${t}`,r=compileExpression(i);return r("1")}function CalculateExpression(n){let t=compileExpression(n);return t("1")}function tableOrder(n){let t=n.toString(),r=t.search("data-value"),i=t.substring(12+r),u=i.search('"'),f=i.substring(0,u);return f*1}function tablePreOrder(n){let t=n.toString(),i=t.search("data-type"),r=t.substring(11+i,12+i);switch(r){case TemplateColumnTypeEnum.BudgetSection:return"money";case TemplateColumnTypeEnum.DaysForMonth:case TemplateColumnTypeEnum.MonthsForYear:case TemplateColumnTypeEnum.YearForYear:return"day";default:return"money"}return"money"}function GetCookie(n){const i=`; ${document.cookie}`,t=i.split(`; ${n}=`);if(t.length===2)return t.pop().split(";").shift()}function CheckAuthenticated(){let n={uid:UserInfo.ID,usid:UserInfo.UserSessionID,ue:UserInfo.Email};return $.ajax({type:"POST",url:"/Settings/CheckAuthenticated",data:JSON.stringify(n),contentType:"application/json",dataType:"json",success:function(n){return document.CheckAuthorization=!1,n},error:function(n,t,i){console.log(i)}})}function onTabFocus(){document.CheckAuthorization&&CheckAuthenticated()}function onTabBlur(){document.CheckAuthorization&&CheckAuthenticated()}function onKeyListener(){}function onCloseWindow(){return $.ajax({type:"GET",url:"/Settings/LeaveSite?UserSessionID="+UserInfo.UserSessionID,contentType:"application/json",dataType:"json"})}function ShowCookieOff(){return $("#cookie-model").remove(),$.ajax({type:"GET",url:"/UserSettings/ShowCookieOff",contentType:"application/json",dataType:"json",success:function(n){return UserInfo.UserSettings.IsShowCookie=!1,n},error:function(){}})}function ShowDocument(n){return $.ajax({type:"GET",url:"/UserSettings/ShowDocument?name="+n,contentType:"application/json",dataType:"json",success:function(n){return n},error:function(){}})}function JSCopyObject(n){return Object.assign({},n)}String.prototype.replaceAll=function(n,t){return this.split(n).join(t)};var TemplateColumnTypeEnum=Object.freeze({Undefined:0,BudgetSection:1,DaysForMonth:2,MonthsForYear:3,YearForYear:4,Percent:5,Comment:6,WeekForMonth:7}),FooterActionTypeEnum=Object.freeze({Undefined:0,Sum:1,Avr:2,Min:3,Max:4}),FormulaFieldTypeEnum=Object.freeze({Undefined:0,Section:1,Number:2,Mark:3,Parentheses:4,Days:5}),PeriodTypeEnum=Object.freeze({Undefined:0,Month:1,Weeks:2,Year:3,Years10:4}),PaletteColorPicker=["#1abc99","#16a085","#2ecc71","#27ae60","#3498db","#2980b9","#9b59b6","#8e44ad","#34495e","#2c3e50","#f1c40f","#f39c12","#e67e22","#d35400","#e74c3c","#c0392b","#ecf0f1","#bdc3c7","#95a5a6","#7f8c8d"];jQuery.fn.scrollCenter=function(n,t){var r=jQuery(this).find(n),u=r.width()/2,i=r.position().left+u,f=jQuery(this).scrollLeft(),e=jQuery(this).width();return i=i+f-e/2,jQuery(this).animate({scrollLeft:i},t==undefined?1e3:t),this};jQuery.fn.scrollCenterORI=function(n,t){return jQuery(this).animate({scrollLeft:jQuery(this).scrollLeft()-jQuery(this).offset().left+jQuery(n).offset().left},t==undefined?1e3:t),this};