var ChartListVue=new Vue({el:"#chart-list-vue",data:{charts:[],activeChartPeriodTypeID:-1,msnry:{}},watch:{},mounted:function(){this.load().then(function(){})},methods:{load:function(){return sendAjax("/Chart/GetCharts",null,"GET").then(function(n){n.isOk==!0&&(ChartListVue.charts=n.charts,setTimeout(function(){ChartListVue.msnry&&ChartListVue.msnry.destroy!=undefined&&ChartListVue.msnry.destroy();ChartListVue.msnry=new Masonry("#charts",{itemSelector:".masonry-item:not(.d-none)",columnWidth:".masonry-item-sizer",originLeft:!0,horizontalOrder:!0})},100))})},edit:function(){},getDateByFormat:function(n,t){return GetDateByFormat(n,t)},reloadView:function(){setTimeout(function(){ChartListVue.msnry.layout()},15)},getDateByFormat:function(n,t){return GetDateByFormat(n,t)},remove:function(n){return ShowLoading("#chart_"+n.id),$.ajax({type:"POST",url:"/Chart/Remove",data:JSON.stringify(n),context:n,contentType:"application/json",dataType:"json",success:function(t){n.isDeleted=t.isOk;HideLoading("#chart_"+n.id)}})},recovery:function(n){return ShowLoading("#chart_"+n.id),$.ajax({type:"POST",url:"/Chart/Recovery",data:JSON.stringify(n),context:n,contentType:"application/json",dataType:"json",success:function(t){n.isDeleted=!t.isOk;HideLoading("#chart_"+n.id)}})},toggleChart:function(n,t){return ShowLoading("#chart_"+n),$.ajax({type:"GET",url:"/Chart/ToggleChart?id="+n+"&periodType="+t,contentType:"application/json",dataType:"json",context:{id:n,periodType:t},success:function(n){HideLoading("#chart_"+this.id);(n.isOk=!0)&&(this.periodType==PeriodTypeEnum.Month?ChartListVue.charts[ChartListVue.charts.findIndex(n=>n.id==this.id)].isShowBudgetMonth=n.isShow:this.periodType==PeriodTypeEnum.Year&&(ChartListVue.charts[ChartListVue.charts.findIndex(n=>n.id==this.id)].isShowBudgetYear=n.isShow))},error:function(){HideLoading("#chart_"+this.id)}})}}});