var BudgetMethods={periodType:PeriodTypeEnum.Year,mounted:function(){this.getPageSettings();this.templateID=document.getElementById("templateID_hidden").value;this.budgetYear=document.getElementById("budgetMonth_hidden").value;this.refresh();window.layoutHelpers.on("resize",this.resizeAll);RecordVue.callback=this.refreshAfterChangeRecords},load:function(){return this.tableAjax&&(this.tableAjax.readyState==1||this.tableAjax.readyState==3)?this.tableAjax.abort():this.dataTable&&(this.template.columns=[],this.dataTable.destroy(),$('[data-toggle="tooltip"]').tooltip("dispose")),this.tableAjax=$.ajax({type:"POST",url:"/Budget/GetYearBudget?year="+this.budgetYear+"&templateID="+this.templateID,context:this,contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){return n.isOk==!0&&(this.rows=n.rows,this.footerRow=n.footerRow,this.template=n.template),!0},error:function(n,t,i){this.isSaving=!1;console.log(i)}}),this.tableAjax},changeView:function(n){if(n==-1){let n=$("#budget-year option:selected").prev().prop("selected",!0).text();if(n)return this.budgetYear=n,this.refresh("runtimeData")}if(n==1){let n=$("#budget-year option:selected").next().prop("selected",!0).text();if(n)return this.budgetYear=n,this.refresh("runtimeData")}},loadTotalCharts:function(){return this.totalChartsAjax&&(this.totalChartsAjax.readyState==1||this.totalChartsAjax.readyState==3)&&this.totalChartsAjax.abort(),this.totalChartsAjax=$.ajax({type:"GET",url:"/BudgetTotal/LoadByYear?year="+this.budgetYear,contentType:"application/json",dataType:"json",context:this,success:function(n){this.earningData=n.earningData;this.spendingData=n.spendingData;this.investingData=n.investingData;this.initTotalCharts()}}),this.totalChartsAjax},loadLimitCharts:function(){return this.limitsAjax&&(this.limitsAjax.readyState==1||this.limitsAjax.readyState==3)&&this.limitsAjax.abort(),this.limitsAjax=$.ajax({type:"GET",url:"/Limit/LoadCharts?year="+this.budgetYear+"&periodTypesEnum=3",contentType:"application/json",dataType:"json",context:this,success:function(n){this.limitsChartsData=n.limitsChartsData;setTimeout(this.initLimitCharts,10)}}),this.limitsAjax},loadGoalCharts:function(){return this.goalsAjax&&(this.goalsAjax.readyState==1||this.goalsAjax.readyState==3)&&this.goalsAjax.abort(),this.goalsAjax=$.ajax({type:"GET",url:`/Goal/LoadCharts?year=${this.budgetYear}&periodTypesEnum=3`,contentType:"application/json",dataType:"json",context:this,success:function(n){this.goalChartsData=n.goalChartsData}}),this.goalsAjax},loadBigCharts:function(){this.bigChartsAjax&&(this.bigChartsAjax.readyState==1||this.bigChartsAjax.readyState==3)&&this.bigChartsAjax.abort();for(var n=0;n<this.bigChartsData.length;n++)ShowLoading("#bigChart_"+this.bigChartsData[n].chartID);return this.bigChartsAjax=$.ajax({type:"GET",url:"/Chart/LoadCharts?year="+this.budgetYear+"&periodType=3",contentType:"application/json",dataType:"json",context:this,success:function(n){this.bigChartsData=n.bigChartsData;for(var t=0;t<this.bigChartsData.length;t++)HideLoading("#bigChart_"+this.bigChartsData[t].chartID);setTimeout(this.initBigChartCharts,10)}}),this.bigChartsAjax}};