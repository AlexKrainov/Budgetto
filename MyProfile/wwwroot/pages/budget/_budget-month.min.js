var BudgetMethods={periodType:PeriodTypeEnum.Month,isShowSummary:UserInfo.UserSettings.Dashboard_Month_IsShow_Summary,mounted:function(){this.getPageSettings();this.templateID=document.getElementById("templateID_hidden").value;this.budgetDate=document.getElementById("budgetDate_hidden").value;let n=GetFlatpickrRuConfig_Month(this.budgetDate);this.flatpickrStart=flatpickr("#budget-date",n);$("#modalTimeLine").on("hide.bs.modal",function(){});this.refresh();window.layoutHelpers.on("resize",this.resizeAll);this.earningData.isShow=UserInfo.UserSettings.Dashboard_Month_IsShow_EarningChart;this.spendingData.isShow=UserInfo.UserSettings.Dashboard_Month_IsShow_SpendingChart;this.investingData.isShow=UserInfo.UserSettings.Dashboard_Month_IsShow_InvestingChart;RecordVue.callback=this.refreshAfterChangeRecords},load:function(){return this.tableAjax&&(this.tableAjax.readyState==1||this.tableAjax.readyState==3)?this.tableAjax.abort():this.dataTable&&(this.dataTable.destroy(),this.template.columns=[],$('[data-toggle="tooltip"]').tooltip("dispose")),this.tableAjax=$.ajax({type:"POST",url:"/Budget/GetMonthBudget?month="+this.budgetDate+"&templateID="+this.templateID,context:this,contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){return n.isOk==!0&&(this.rows=n.rows,this.footerRow=n.footerRow,this.template=n.template),!0},error:function(n,t,i){this.isSaving=!1;console.log(i)}}),this.tableAjax},changeView:function(n){var t=new Date(this.flatpickrStart.latestSelectedDateObj);t.setMonth(t.getMonth()+n);console.log(t);this.flatpickrStart.setDate(t,!0)},loadTotalCharts:function(){return(UserInfo.UserSettings.Dashboard_Month_IsShow_InvestingChart||UserInfo.UserSettings.Dashboard_Month_IsShow_SpendingChart||UserInfo.UserSettings.Dashboard_Month_IsShow_EarningChart)?(this.totalChartsAjax&&(this.totalChartsAjax.readyState==1||this.totalChartsAjax.readyState==3)&&this.totalChartsAjax.abort(),this.totalChartsAjax=$.ajax({type:"GET",url:"/BudgetTotal/LoadByMonth?to="+this.budgetDate,contentType:"application/json",dataType:"json",context:this,success:function(n){this.earningData=n.earningData;this.spendingData=n.spendingData;this.investingData=n.investingData;this.initTotalCharts()}}),this.totalChartsAjax):!1},loadLimitCharts:function(){return UserInfo.UserSettings.Dashboard_Month_IsShow_LimitCharts?(this.limitsAjax&&(this.limitsAjax.readyState==1||this.limitsAjax.readyState==3)&&this.limitsAjax.abort(),this.limitsAjax=$.ajax({type:"GET",url:"/Limit/LoadCharts?date="+this.budgetDate+"&periodTypesEnum=1",contentType:"application/json",dataType:"json",context:this,success:function(n){this.limitsChartsData=n.limitsChartsData;setTimeout(this.initLimitCharts,10)}}),this.limitsAjax):!1},loadGoalCharts:function(){return UserInfo.UserSettings.Dashboard_Month_IsShow_GoalCharts?(this.goalsAjax&&(this.goalsAjax.readyState==1||this.goalsAjax.readyState==3)&&this.goalsAjax.abort(),this.goalsAjax=$.ajax({type:"GET",url:`/Goal/LoadCharts?date=${this.budgetDate}&periodTypesEnum=1`,contentType:"application/json",dataType:"json",context:this,success:function(n){if(!UserInfo.UserSettings.Dashboard_Month_IsShow_GoalCharts)return!1;this.goalChartsData=n.goalChartsData}}),this.goalsAjax):!1},loadBigCharts:function(){if(!UserInfo.UserSettings.Dashboard_Month_IsShow_BigCharts)return!1;this.bigChartsAjax&&(this.bigChartsAjax.readyState==1||this.bigChartsAjax.readyState==3)&&this.bigChartsAjax.abort();for(var n=0;n<this.bigChartsData.length;n++)ShowLoading("#bigChart_"+this.bigChartsData[n].chartID);return this.bigChartsAjax=$.ajax({type:"GET",url:"/Chart/LoadCharts?date="+this.budgetDate+"&periodType=1",contentType:"application/json",dataType:"json",context:this,success:function(n){this.bigChartsData=n.bigChartsData;for(var t=0;t<this.bigChartsData.length;t++)HideLoading("#bigChart_"+this.bigChartsData[t].chartID);setTimeout(this.initBigChartCharts,100)}}),this.bigChartsAjax},loadAccounts:function(){return UserInfo.UserSettings.Dashboard_Month_IsShow_Accounts?(this.accountsAjax&&(this.accountsAjax.readyState==1||this.accountsAjax.readyState==3)&&this.accountsAjax.abort(),ShowLoading("#accounts-view"),this.accountsAjax=$.ajax({type:"GET",url:"/Account/GetAccounts?date="+this.budgetDate+"&periodType=1",contentType:"application/json",dataType:"json",context:this,success:function(n){this.accounts=n.accounts;HideLoading("#accounts-view")}}),this.accountsAjax):!1}};